<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRRC - Rugby Referee Companion 2025</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="header-content">
                <h1>TRRC 2025</h1>
                <p class="subtitle">Rugby Referee Companion</p>
            </div>
            <nav>
                <div class="tab-container">
                    <button class="tab-btn active" data-tab="rules">📖 ルール</button>
                    <button class="tab-btn" data-tab="discussion">🗣️ 議論</button>
                    <button class="tab-btn" data-tab="quiz">❓ クイズ</button>
                    <button class="tab-btn" data-tab="stats">📊 記録</button>
                </div>
            </nav>
        </header>

        <main>
            <section id="rules" class="content-section active">
                <div class="search-area">
                    <input type="text" id="rule-search" placeholder="キーワード検索（例：スクラム 故意）">
                    <div class="filter-container">
                        <div id="law-filters"></div>
                    </div>
                </div>
                <div id="rule-display"></div>
            </section>

            <section id="discussion" class="content-section">
                <div class="upload-box">
                    <button id="btn-open-upload" class="main-action-btn">＋ 議論したい動画を投稿する</button>
                </div>
                <div id="discussion-feed">
                    </div>
            </section>

            <section id="quiz" class="content-section">
                <div class="placeholder-card"><p>全21条対応クイズ機能を準備中...</p></div>
            </section>

            <section id="stats" class="content-section">
                <h3>📊 マイブックマーク</h3>
                <div id="bookmark-list">
                    <div class="placeholder-card"><p>保存された議論やルールはありません</p></div>
                </div>
            </section>

            <div id="upload-modal" class="modal-overlay">
                <div class="modal-card">
                    <h3>📹 動画を投稿</h3>
                    <input type="text" id="upload-title" placeholder="タイトル（例：故意のノックオン？）" class="modal-input">
                    
                    <div class="file-drop-area" id="drop-area">
                        <p>ここに動画ファイルをドロップ<br>または</p>
                        <input type="file" id="video-file" accept="video/*" hidden>
                        <button class="filter-btn" onclick="document.getElementById('video-file').click()">ファイルを選択</button>
                        <p id="file-name" style="font-size:0.8em; color:#666; margin-top:10px;"></p>
                    </div>
                    
                    <div class="progress-container" id="progress-container" style="display:none;">
                        <div class="progress-bar" id="upload-progress"></div>
                    </div>

                    <div class="modal-actions">
                        <button class="action-btn" id="btn-cancel-upload">キャンセル</button>
                        <button class="main-action-btn" id="btn-submit-upload" style="width:auto; margin:0;">投稿する</button>
                    </div>
                </div>
            </div>
            </main>
    </div>
    <script src="app.js"></script>
</body>
</html>